# =============================================================================
# Docker Compose Override — Development
# =============================================================================
#
# Этот файл автоматически загружается при `docker compose up`
# Добавляет dev-порты для локального доступа
#
# НЕ копировать на production сервер!
# На проде используется только docker-compose.yml
#
# =============================================================================

services:
  app:
    ports:
      # Прямой доступ к app без Caddy
      - "127.0.0.1:3000:3000"

  postgres:
    ports:
      # Для pgAdmin, DBeaver и т.д.
      - "127.0.0.1:5433:5432"

  redis:
    ports:
      # Для redis-cli, RedisInsight
      - "127.0.0.1:6380:6379"

  # Отключаем Caddy в development (не нужен HTTPS локально)
  caddy:
    profiles:
      - production
