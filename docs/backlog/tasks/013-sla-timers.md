# Задача 013: SLA-таймеры

**Этап:** 4 - SLA и автоматизация
**Статус:** TODO
**Приоритет:** Средний

## Описание

Реализовать напоминания по SLA: 10 мин, 30 мин, 2 часа.

## Подзадачи

- [ ] Сервис SLA (src/services/sla.service.ts):
  - [ ] Запуск таймеров при создании/переоткрытии тикета
  - [ ] Отмена таймеров при ответе сотрудника
  - [ ] Перезапуск таймеров при новом сообщении клиента
- [ ] Job для SLA-напоминаний (src/jobs/sla.job.ts):
  - [ ] 10 мин: пинг всех участников в топике
  - [ ] 30 мин: повторный пинг + пинг админов
  - [ ] 2 часа: SLA breach + личное сообщение админам
- [ ] Получение списка участников и админов группы
- [ ] Формат пинг-сообщений (не пересылаются клиенту)
- [ ] Логирование SLA-событий

## Зависимости

- [012-bullmq-setup](./012-bullmq-setup.md)
- [007-mirror-topic-to-user](./007-mirror-topic-to-user.md) (фильтрация сообщений бота)

## Результат

- Таймеры запускаются автоматически
- Напоминания приходят вовремя
- Сотрудники получают пинги
- Клиент не видит SLA-сообщения

---

## Начало работы

### 1. Создай ветку

```bash
git checkout -b feature/013-sla-timers
```

### 2. Создай папку для решений

```bash
mkdir -p docs/solutions/013-sla-timers
```

### 3. Веди историю решений

В файле `docs/solutions/013-sla-timers/decisions.md` записывай:
- Формат пинг-сообщений
- Как получать список участников группы
- Обработка случая когда админов нет

### 4. По завершении

```bash
git add .
git commit -m "feat(013): SLA-таймеры"
git checkout main
git merge feature/013-sla-timers
```
