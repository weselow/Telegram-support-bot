# Задача 009: Редактирование и удаление сообщений

**Этап:** 3 - Расширенный функционал
**Статус:** TODO
**Приоритет:** Средний

## Описание

Синхронизировать редактирование и удаление сообщений между DM и топиком.

## Подзадачи

- [ ] Обработчик edited_message (пользователь):
  - [ ] Поиск связанного сообщения в messages_map
  - [ ] Редактирование сообщения в топике
- [ ] Обработчик edited_message (сотрудник):
  - [ ] Поиск связанного сообщения
  - [ ] Редактирование сообщения в DM
- [ ] Обработчик deleted_message (если доступен в API):
  - [ ] Удаление связанного сообщения
  - [ ] Обновление messages_map (пометка удалённого)
- [ ] Расширение message.service.ts:
  - [ ] editMirroredMessage()
  - [ ] deleteMirroredMessage()

## Зависимости

- [006-mirror-user-to-topic](./006-mirror-user-to-topic.md)
- [007-mirror-topic-to-user](./007-mirror-topic-to-user.md)

## Примечания

Telegram Bot API имеет ограничения на удаление сообщений — проверить возможности.

## Результат

- Редактирование синхронизируется в обе стороны
- Удаление синхронизируется (если возможно)
- Ошибки логируются

---

## Начало работы

### 1. Создай ветку

```bash
git checkout -b feature/009-edit-delete-messages
```

### 2. Создай папку для решений

```bash
mkdir -p docs/solutions/009-edit-delete-messages
```

### 3. Веди историю решений

В файле `docs/solutions/009-edit-delete-messages/decisions.md` записывай:
- Ограничения Telegram API
- Обработка невозможности удаления
- Формат хранения удалённых сообщений

### 4. По завершении

```bash
git add .
git commit -m "feat(009): редактирование и удаление сообщений"
git checkout main
git merge feature/009-edit-delete-messages
```
