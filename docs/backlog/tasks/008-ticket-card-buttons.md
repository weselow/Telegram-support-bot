# Задача 008: Карточка тикета с кнопками статусов

**Этап:** 2 - Основной функционал
**Статус:** TODO
**Приоритет:** Высокий

## Описание

Создать карточку тикета с inline-кнопками для управления статусом.

## Подзадачи

- [ ] Формат карточки тикета:
  - [ ] Telegram user (имя, @username)
  - [ ] Телефон (если есть)
  - [ ] Текущий статус
  - [ ] Inline-кнопки: [В работу] [Ждём клиента] [Закрыть]
- [ ] Обработчик callback-кнопок (src/bot/handlers/callback.handler.ts):
  - [ ] Парсинг callback_data
  - [ ] Проверка прав (участник группы)
  - [ ] Обновление статуса в БД
  - [ ] Редактирование карточки
  - [ ] Отправка уведомления о смене статуса
- [ ] Функция обновления карточки в topic.service.ts
- [ ] Запись события в ticket_events

## Зависимости

- [005-topic-creation](./005-topic-creation.md)

## Результат

- Карточка отображает актуальный статус
- Кнопки меняют статус
- В топик приходит уведомление о смене
- Событие записывается в историю

---

## Начало работы

### 1. Создай ветку

```bash
git checkout -b feature/008-ticket-card-buttons
```

### 2. Создай папку для решений

```bash
mkdir -p docs/solutions/008-ticket-card-buttons
```

### 3. Веди историю решений

В файле `docs/solutions/008-ticket-card-buttons/decisions.md` записывай:
- Формат callback_data
- Какие кнопки показывать в каком статусе
- Формат уведомлений о смене статуса

### 4. По завершении

```bash
git add .
git commit -m "feat(008): карточка тикета с кнопками"
git checkout main
git merge feature/008-ticket-card-buttons
```
