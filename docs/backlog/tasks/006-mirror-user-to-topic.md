# Задача 006: Зеркалирование сообщений (user → topic)

**Этап:** 2 - Основной функционал
**Статус:** TODO
**Приоритет:** Высокий

## Описание

Пересылать сообщения пользователя из DM в топик поддержки.

## Подзадачи

- [ ] Сервис зеркалирования (src/services/message.service.ts):
  - [ ] Копирование текстовых сообщений
  - [ ] Копирование медиа (фото, видео, документы, аудио, voice)
  - [ ] Копирование контактов и геолокации
  - [ ] Копирование стикеров и GIF
  - [ ] Сохранение связи message_id в messages_map
- [ ] Обработчик сообщений пользователя (src/bot/handlers/user.handler.ts):
  - [ ] Получение топика из БД
  - [ ] Вызов сервиса зеркалирования
  - [ ] Обработка ошибок
- [ ] Репозиторий сообщений (src/db/repositories/message.repository.ts)

## Зависимости

- [005-topic-creation](./005-topic-creation.md)

## Результат

- Все типы сообщений пересылаются в топик
- Связь dm_message_id ↔ topic_message_id сохраняется
- Медиа отображаются корректно

---

## История решений

> При начале работы над задачей создай папку:
> `docs/solutions/006-mirror-user-to-topic/`
>
> В ней веди файл `decisions.md` с историей принятых решений:
> - Способ копирования разных типов сообщений
> - Обработка caption у медиа
> - Лимиты Telegram API
