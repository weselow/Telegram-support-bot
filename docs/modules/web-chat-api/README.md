# Web Chat API

## Обзор

API для интеграции живого чата на сайт. Позволяет пользователям общаться с поддержкой через веб-виджет, с возможностью синхронизации с Telegram.

## Ключевые особенности

- **Анонимный доступ** — минимум шагов для начала диалога
- **Двухканальная синхронизация** — пользователь может писать и через веб, и через Telegram
- **Real-time доставка** — WebSocket для мгновенных сообщений
- **Единый топик** — все сообщения (web + Telegram) в одном топике группы поддержки
- **Миграция в Telegram** — кнопка "Продолжить в Telegram" с переносом истории

## Документация

| Документ | Описание | Статус |
|----------|----------|--------|
| [architecture.md](./architecture.md) | Общая архитектура и flow | ✅ |
| [api-spec.md](./api-spec.md) | Спецификация HTTP и WebSocket API | ✅ |
| [database-changes.md](./database-changes.md) | Изменения в схеме БД | ✅ |
| [message-flow.md](./message-flow.md) | Потоки сообщений между каналами | ✅ |

## Статус реализации

- [x] Проектирование API (документация)
- [ ] Изменения в БД (миграция Prisma)
- [ ] HTTP endpoints
- [ ] WebSocket сервер
- [ ] Синхронизация каналов
- [ ] Миграция web → Telegram
- [ ] Web Push notifications
- [ ] Виджет для сайта (отдельный проект)

## Связанные задачи

- Исходная идея: `docs/backlog/ideas/web-chat-integration.md`
