# –†–µ—à–µ–Ω–∏—è –ø–æ –∑–∞–¥–∞—á–µ 015: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏–∑ config.json

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ñ–∏–≥–∞

–†–∞–∑–¥–µ–ª—è–µ–º –Ω–∞ 2 —Ñ–∞–π–ª–∞:
- `config/messages.json` ‚Äî —Ç–µ–∫—Å—Ç—ã —Å–æ–æ–±—â–µ–Ω–∏–π
- `config/settings.json` ‚Äî —Ç–∞–π–º–∏–Ω–≥–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –í–∞–ª–∏–¥–∞—Ü–∏—è

–ò—Å–ø–æ–ª—å–∑—É–µ–º Zod –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ. –ï—Å–ª–∏ –∫–æ–Ω—Ñ–∏–≥ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π ‚Äî –±–æ—Ç –Ω–µ —Å—Ç–∞—Ä—Ç—É–µ—Ç.

### Hot-reload

–†–µ—à–µ–Ω–æ –ù–ï –¥–µ–ª–∞—Ç—å:
- –£—Å–ª–æ–∂–Ω—è–µ—Ç –∫–æ–¥
- –†–µ—Å—Ç–∞—Ä—Ç –±–æ—Ç–∞ –∑–∞–Ω–∏–º–∞–µ—Ç —Å–µ–∫—É–Ω–¥—ã
- –í Docker –ª–µ–≥–∫–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

## –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π

### messages.json

```json
{
  "welcome": "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, {firstName}!\n\n–≠—Ç–æ –±–æ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏...",
  "ticketCreated": "–°–ø–∞—Å–∏–±–æ –∑–∞ –æ–±—Ä–∞—â–µ–Ω–∏–µ! –í–∞—à –∑–∞–ø—Ä–æ—Å –ø—Ä–∏–Ω—è—Ç –≤ —Ä–∞–±–æ—Ç—É...",
  "phone": {
    "request": "üì± –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–µ–ª–∏—Ç–µ—Å—å –≤–∞—à–∏–º –Ω–æ–º–µ—Ä–æ–º —Ç–µ–ª–µ—Ñ–æ–Ω–∞...",
    "confirm": "üìû –í–∞—à —Ç–µ–ª–µ—Ñ–æ–Ω: {phone}\n\n–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ...",
    "updated": "‚úÖ –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –æ–±–Ω–æ–≤–ª—ë–Ω. –°–ø–∞—Å–∏–±–æ!",
    ...
  },
  "status": {
    "changed": "üìù –°—Ç–∞—Ç—É—Å –∏–∑–º–µ–Ω—ë–Ω: {oldStatus} ‚Üí {newStatus}",
    ...
  },
  "sla": {
    "first": "‚è∞ SLA: 10 –º–∏–Ω—É—Ç –±–µ–∑ –æ—Ç–≤–µ—Ç–∞",
    "second": "‚ö†Ô∏è SLA: 30 –º–∏–Ω—É—Ç –±–µ–∑ –æ—Ç–≤–µ—Ç–∞",
    "escalation": "üö® SLA BREACH: 2 —á–∞—Å–∞ –±–µ–∑ –æ—Ç–≤–µ—Ç–∞!",
    "dmEscalation": "üö® *SLA BREACH*\n\n–¢–∏–∫–µ—Ç –±–µ–∑ –æ—Ç–≤–µ—Ç–∞ –±–æ–ª–µ–µ 2 —á–∞—Å–æ–≤!..."
  },
  "autoclose": {
    "client": "–í–∞—à–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ –±—ã–ª–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã—Ç–æ...",
    "topic": "// ‚è∞ –¢–∏–∫–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã—Ç (7 –¥–Ω–µ–π –±–µ–∑ –æ—Ç–≤–µ—Ç–∞ –∫–ª–∏–µ–Ω—Ç–∞)"
  },
  "errors": {
    "deliveryFailed": "–ù–µ —É–¥–∞–ª–æ—Å—å –¥–æ—Å—Ç–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ...",
    ...
  },
  "buttons": {
    "phoneConfirm": "‚úÖ –¢–µ–ª–µ—Ñ–æ–Ω –∞–∫—Ç—É–∞–ª–µ–Ω",
    "phoneChange": "üì± –ò–∑–º–µ–Ω–∏—Ç—å",
    "sendContact": "üì± –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç"
  }
}
```

### settings.json

```json
{
  "sla": {
    "firstReminderMinutes": 10,
    "secondReminderMinutes": 30,
    "escalationMinutes": 120
  },
  "autoclose": {
    "days": 7
  }
}
```

## –ü–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã

–ò—Å–ø–æ–ª—å–∑—É–µ–º —Ñ–æ—Ä–º–∞—Ç `{variableName}`:
- `{firstName}` ‚Äî –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `{phone}` ‚Äî —Ç–µ–ª–µ—Ñ–æ–Ω
- `{oldStatus}`, `{newStatus}` ‚Äî —Å—Ç–∞—Ç—É—Å—ã
- `{topicLink}` ‚Äî —Å—Å—ã–ª–∫–∞ –Ω–∞ —Ç–æ–ø–∏–∫

## –ó–∞–≥—Ä—É–∑—á–∏–∫

```typescript
// src/config/messages.ts
import { readFileSync } from 'fs';
import { z } from 'zod';

const messagesSchema = z.object({...});
const settingsSchema = z.object({...});

export const messages = loadAndValidate('config/messages.json', messagesSchema);
export const settings = loadAndValidate('config/settings.json', settingsSchema);

export function formatMessage(template: string, vars: Record<string, string>): string {
  return template.replace(/\{(\w+)\}/g, (_, key) => vars[key] ?? `{${key}}`);
}
```

## –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç

–ù–∞—á–∏–Ω–∞–µ–º —Å settings.json (—Ç–∞–π–º–∏–Ω–≥–∏) ‚Äî –º–µ–Ω—å—à–µ —Ñ–∞–π–ª–æ–≤ –º–µ–Ω—è—Ç—å.
–ó–∞—Ç–µ–º messages.json ‚Äî –±–æ–ª—å—à–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π, –Ω–æ –±–æ–ª–µ–µ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ.
