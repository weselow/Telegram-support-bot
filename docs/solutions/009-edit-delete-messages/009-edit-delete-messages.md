# Задача 009: Редактирование и удаление сообщений

**Этап:** 3 - Расширенный функционал
**Статус:** DONE
**Приоритет:** Средний

## Описание

Синхронизировать редактирование и удаление сообщений между DM и топиком.

## Подзадачи

- [x] Обработчик edited_message (пользователь):
  - [x] Поиск связанного сообщения в messages_map
  - [x] Редактирование сообщения в топике
- [x] Обработчик edited_message (сотрудник):
  - [x] Поиск связанного сообщения
  - [x] Редактирование сообщения в DM
- [x] ~~Обработчик deleted_message~~ — **невозможно** (см. ниже)
- [x] Расширение message.service.ts:
  - [x] editMirroredUserMessage()
  - [x] editMirroredSupportMessage()

## Ограничения API

**Удаление сообщений невозможно синхронизировать:**
- Telegram Bot API **не отправляет события** об удалении сообщений пользователями
- Это фундаментальное ограничение API, обойти невозможно

## Результат

- Редактирование текста синхронизируется в обе стороны
- Редактирование подписей (caption) медиа синхронизируется
- Удаление НЕ синхронизируется (ограничение API)
- Ошибки логируются

## Созданные файлы

- `src/bot/handlers/edit.ts` — обработчики edited_message
- `src/services/message.service.ts` — добавлены функции редактирования
- `src/bot/bot.ts` — зарегистрированы обработчики edit:text и edit:caption
