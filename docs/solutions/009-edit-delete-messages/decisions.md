# Решения по задаче 009: Редактирование и удаление сообщений

## Ограничения Telegram API

### Редактирование
- Бот может редактировать только **свои** сообщения (зеркальные копии)
- `editMessageText` — для текстовых сообщений
- `editMessageCaption` — для подписей медиа (фото, видео и т.д.)
- Нельзя изменить тип сообщения (текст → фото)

### Удаление
- **Telegram НЕ отправляет события об удалении сообщений пользователями**
- Нет возможности автоматически синхронизировать удаление
- Это ограничение API, обойти его невозможно

## Принятые решения

### 1. Реализуем только редактирование
Удаление невозможно синхронизировать из-за ограничений API.

### 2. Обработка edited_message
- Приватный чат: пользователь редактирует → обновляем в топике
- Группа поддержки: сотрудник редактирует → обновляем в DM

### 3. Типы редактируемых сообщений
- Текст → `editMessageText`
- Медиа с caption → `editMessageCaption`
- Голосовые/стикеры/контакты — только логирование (нет подписи)

### 4. Обработка ошибок
- Сообщение не найдено в mapping → игнорируем (возможно, не было зеркалировано)
- Ошибка редактирования → логируем (сообщение удалено/устарело)
