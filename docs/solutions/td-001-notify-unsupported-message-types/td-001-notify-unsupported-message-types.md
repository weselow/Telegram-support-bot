# TD-001: Уведомление о неподдерживаемых типах сообщений

**Тип:** Технический долг
**Статус:** DONE
**Severity:** MEDIUM
**Source:** Security Review (task 006)

## Проблема

Когда пользователь отправлял неподдерживаемый тип сообщения (polls, dice, venue и др.), функция логировала warning и возвращала `null`, но пользователь не получал уведомления. Сообщение молча терялось.

## Решение

Добавлена проверка возвращаемого значения `mirrorUserMessage` в обработчике `message.ts`. При получении `null` пользователю отправляется уведомление с объяснением и списком поддерживаемых типов.

## Изменённые файлы

- `config/messages.json` — добавлено сообщение `unsupportedMessageType`
- `src/config/messages.ts` — добавлено поле в схему валидации
- `src/bot/handlers/message.ts` — добавлена проверка и уведомление

## Поддерживаемые типы сообщений

- Текст
- Фото
- Видео
- Документы
- Голосовые сообщения
- Аудио
- Видеосообщения (кружочки)
- Стикеры
- Анимации (GIF)
- Контакты
- Геолокация

## Неподдерживаемые типы

- Опросы (polls)
- Кубики (dice)
- Место (venue)
- Игры (game)
- И другие специальные типы Telegram
